<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Destinations - Travel Website</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body style="background-color: #addae6;">
  <!-- Header section -->
  <header>
    <h1>Manage Destinations</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/nairobi">Nairobi</a>
      <a href="/tokyo">Tokyo</a>
      <a href="/interlaken">Interlaken</a>
      <a href="/giza">Giza</a>
      <a href="/porto">Porto</a>
      <a href="/dubai">Dubai</a>
      <a href="/masai_mara">Masai Mara</a>
      <a href="/mauritius">Mauritius</a>
      <a href="/booking">Your Bookings</a>
      <a href="/profile">Profile</a>
      <a href="/logout">Logout</a>
    </nav>
  </header>

  <!-- CRUD Section -->
  <main>
    <section class="crud-section">
      <h2>Destinations</h2>

      <!-- Add New Destination -->
      <h3>Add a New Destination</h3>
      <form action="/destinations/create" method="POST" enctype="multipart/form-data">
        <div class="form-group">
          <label for="name">Destination Name:</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label for="image">Image URL:</label>
          <input type="file" id="image" name="image" required>
        </div>
        <button type="submit" class="btn">Add Destination</button>
      </form>

      <hr>

      <!-- View All Destinations -->
      <h3>All Destinations</h3>
      <table>
        <thead>
          <tr>
            <th>Destination</th>
            <th>Description</th>
            <th>Image</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% destinations.forEach(function(destination) { %>
            <tr>
              <td><%= destination.name %></td>
              <td><%= destination.description %></td>
              <td><img src="/images/<%= destination.image_url %>" alt="<%= destination.name %>" style="width:100px; height:auto;"></td>
              <td>
                <!-- Edit Destination -->
                <a href="/destinations/edit/<%= destination.id %>">Edit</a>
                <!-- Delete Destination -->
                <form action="/destinations/delete/<%= destination.id %>" method="POST" style="display:inline;">
                  <button type="submit" class="btn-delete">Delete</button>
                </form>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </section>
  </main>

  <!-- Footer section -->
  <footer>
    <p>&copy; 2024 Travel Website | All rights reserved</p>
  </footer>
</body>
</html>
